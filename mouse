;-----------------------------------------------------------------------------------------------------
;
;       Time related operations reside here
;
;-----------------------------------------------------------------------------------------------------


;--------------------------------------------
; Get system clock ticks since midnight
; Return in eax
;--------------------------------------------
mouseEnable:
	push es
	mov ah, 0C2h
	mov al, 7
	xor cx, cx
	mov es, cx
	mov bx, mouseHandler
	int 15h
	
	mov ah, 0C2h
	xor al, al
	mov bh, 1
	int 15h
	
	pop es
	retn
	
mouseBM:
dw 1
dw 1
db 0

mouseX: dw 0
mouseY: dw 0

drawMouse:
	push 1
	mov ax, [mouseX]
	push ax
	mov ax, [mouseY]
	push ax
	push mouseBM
	call drawBitmap
	retn

mouseHandler:
	push bp
	mov bp, sp
	
	mov bx, [bp + 4h]
	mov [mouseX], bx
	
	mov bx, [bp + 6h]
	mov [mouseY], bx
	
	pop bp
	retn
